= nf-parquet: a Nextflow Plugin to read/write parquet files
Jorge Aguilera <jagedn@gmail.com>
v0.0.1
:toc: left

nf-parquet is a Nextflow plugin to read parquet files

== Features

- multiple configurable schemas

== Changes

== Read parquet file

Given a parquet file with 2 fields, `myString` and `myInteger` you can send all records to a Channel:

Configure a schema in `nextflow.config` parquet plugin section

.nextflow.config
[source]
----
parquet {
    schemas = [
            mySchema : [
                    [
                            "name"   : "myString",
                            "type"   : ["null", "string"]
                    ], [
                            "name"   : "myInteger",
                            "type"   : ["null", "int"]
                    ]
            ],
            onlyMyString : [
                    [
                            "name"   : "myString",
                            "type"   : ["null", "string"]
                    ]
            ],
    ]
}
----


.read.nf
[source]
----
include { fromParquetFile } from 'plugin/nf-parquet'

channel
        .fromParquetFile( Path.of('area1.parquet'), 'mySchema')
        | view
----

INFO:: Defining different schemas you can improve the read process as the implementation will read only the fields specified in the list, skipping others.